# Case Study: How can a wellness company play it smart?
## Bellabeat
Bellabeat is a high-tech company that manufactures health-focused smart products. Collecting data on activity, sleep, stress, and reproductive health has allowed Bellabeat to empower women with knowledge about their own health and habits. Since it was founded in 2013, Bellabeat has grown rapidly and quickly positioned itself as a tech-driven wellness company for women. By 2016, Bellabeat had opened offices around the world and launched multiple products. Bellabeat products became available through a growing number of online retailers in addition to their own e-commerce channel on their website. 
### The mission statements
An analysis of Bellabeat’s available consumer data would reveal more opportunities for growth, focus on a Bellabeat product and analyze smart device usage data in order to gain insight into how people are already using their smart devices. Then, using this information for high-level recommendations for how these trends can inform Bellabeat marketing strategy.
### PHASE 1: ASK
#### Identify the business task
1.	Analyze user device usage data to identify how these devices are being used, to determine what improvements and changes can be made to the Bellabeat product.
2.	Guide the marketing team with high quality recommendations to improve their strategy.  
#### Consider key stakeholders
The stakeholders are: Urška Sršen, Bellabeat’s cofounder and Chief Creative Officer; Sando Mur, Mathematician and Bellabeat’s cofounder; and the Bellabeat marketing analytics team: A team responsible for collecting, analyzing, and reporting data.
### PHASE 2&3: PREPARE AND PROCESS
#### Identify the data source
This dataset is Public Domain made available through Scientist Mobius, and generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016. Thirty eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring. 
#### Determine the credibility of the data
I’m going to use the ROCCC system to determine the credibility and integrity of the data.
* Reliability: This data is not reliable. There is no information about the margin of error and a small sample size (30 participants) has been used, which can limit the amount of analysis that can be done.
* Originality: This is not an original dataset as it was originally collected from Amazon Mechanical Murk.
* Comprehensiveness: This data is not comprehensive. There is no information about the participants, such as gender, age, health state, etc. This could mean that data was not randomised. If the data is biased, then the insights from the analysis will be unfair to all types of people.
* Current: This data was collected in 2016, which means it is currently outdated and may not represent the current rends in smart device usage.
* Cited: As stated before, Amazon Mechanical Murk created the dataset, but we have no information on whether this is a credible source.
The data integrity and credibility is clearly insufficient to provide reliable and comprehensive insights to Bellabeat. Therefore, the following analysis can only provide first hints and directions which should be verified through an analysis of a larger and much more reliable dataset.
#### Sort and filter the data. 
For this analysis below, I will focus on daily data to determine the high levels of trends in smarts usage. I will focus on using the "dailyActivity_merged" and "sleepDay_merged" data as they seem to show interesting data in the user data.
My analysis will be completed in RStudio. 
* Installing and loading the required R packages for my analysis.
```
>#Install packages
>install.packages("tidyverse")
>install.packages("dplyr")
>install.packages("readr")
>install.packages("magrittr")
>install.packages("tidyr")
>install.packages("devtools")
>install.packages("lubridate")
>install.packages("janitor")
>install.packages("ggplot2")
```
```
>#Importing libraries
> library(tidyverse)
── Attaching core tidyverse packages ─────────────────────────────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.2     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1     
── Conflicts ───────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors
```
```
> library(dplyr)
> library(readr)
> library(magrittr)

Attaching package: ‘magrittr’
The following object is masked from ‘package:purrr’:
    set_names
The following object is masked from ‘package:tidyr’:
    extract
```
```
> library(tidyr)
> library(devtools)
Loading required package: usethis
> library(lubridate)
> library(janitor)

Attaching package: ‘janitor’
The following objects are masked from ‘package:stats’:
    chisq.test, fisher.test

> library(ggplot2)
```
* Import the two files into R.
```
> #Importing data
>daily_activity<- read.csv("/Users/macbookpro/Downloads/Fitabase/dailyActivity_merged.csv")
> sleep_day <- read.csv("/Users/macbookpro/Downloads/Fitabase/sleepDay_merged.csv")
```
* We take a close look at each dataset.
```
> #Cleaning the database
> glimpse(sleep_day)
Rows: 413
Columns: 5
$ Id                 <dbl> 1503960366, 1503960366, 1503960366, 1503960366, 1503960366, 1503960366, 15…
$ SleepDay           <chr> "4/12/2016 12:00:00 AM", "4/13/2016 12:00:00 AM", "4/15/2016 12:00:00 AM",…
$ TotalSleepRecords  <int> 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
$ TotalMinutesAsleep <int> 327, 384, 412, 340, 700, 304, 360, 325, 361, 430, 277, 245, 366, 341, 404,…
$ TotalTimeInBed     <int> 346, 407, 442, 367, 712, 320, 377, 364, 384, 449, 323, 274, 393, 354, 425,…
```
```
> glimpse(daily_activity)
Rows: 862
Columns: 15
$ Id                       <dbl> 1503960366, 1503960366, 1503960366, 1503960366, 1503960366, 15039603…
$ ActivityDate             <chr> "4/12/2016", "4/13/2016", "4/14/2016", "4/15/2016", "4/16/2016", "4/…
$ TotalSteps               <int> 13162, 10735, 10460, 9762, 12669, 9705, 13019, 15506, 10544, 9819, 1…
$ TotalDistance            <dbl> 8.50, 6.97, 6.74, 6.28, 8.16, 6.48, 8.59, 9.88, 6.68, 6.34, 8.13, 9.…
$ TrackerDistance          <dbl> 8.50, 6.97, 6.74, 6.28, 8.16, 6.48, 8.59, 9.88, 6.68, 6.34, 8.13, 9.…
$ LoggedActivitiesDistance <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ VeryActiveDistance       <dbl> 1.88, 1.57, 2.44, 2.14, 2.71, 3.19, 3.25, 3.53, 1.96, 1.34, 4.76, 2.…
$ ModeratelyActiveDistance <dbl> 0.55, 0.69, 0.40, 1.26, 0.41, 0.78, 0.64, 1.32, 0.48, 0.35, 1.12, 0.…
$ LightActiveDistance      <dbl> 6.06, 4.71, 3.91, 2.83, 5.04, 2.51, 4.71, 5.03, 4.24, 4.65, 2.24, 5.…
$ SedentaryActiveDistance  <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.…
$ VeryActiveMinutes        <int> 25, 21, 30, 29, 36, 38, 42, 50, 28, 19, 66, 41, 39, 73, 31, 78, 48, …
$ FairlyActiveMinutes      <int> 13, 19, 11, 34, 10, 20, 16, 31, 12, 8, 27, 21, 5, 14, 23, 11, 28, 12…
$ LightlyActiveMinutes     <int> 328, 217, 181, 209, 221, 164, 233, 264, 205, 211, 130, 262, 238, 216…
$ SedentaryMinutes         <int> 728, 776, 1218, 726, 773, 539, 1149, 775, 818, 838, 1217, 732, 709, …
$ Calories                 <int> 1985, 1797, 1776, 1745, 1863, 1728, 1921, 2035, 1786, 1775, 1827, 19…
```
```
> head(daily_activity)
          Id ActivityDate TotalSteps TotalDistance TrackerDistance LoggedActivitiesDistance
1 1503960366    4/12/2016      13162          8.50            8.50                        0
2 1503960366    4/13/2016      10735          6.97            6.97                        0
3 1503960366    4/14/2016      10460          6.74            6.74                        0
4 1503960366    4/15/2016       9762          6.28            6.28                        0
5 1503960366    4/16/2016      12669          8.16            8.16                        0
6 1503960366    4/17/2016       9705          6.48            6.48                        0
  VeryActiveDistance ModeratelyActiveDistance LightActiveDistance SedentaryActiveDistance
1               1.88                     0.55                6.06                       0
2               1.57                     0.69                4.71                       0
3               2.44                     0.40                3.91                       0
4               2.14                     1.26                2.83                       0
5               2.71                     0.41                5.04                       0
6               3.19                     0.78                2.51                       0
  VeryActiveMinutes FairlyActiveMinutes LightlyActiveMinutes SedentaryMinutes Calories
1                25                  13                  328              728     1985
2                21                  19                  217              776     1797
3                30                  11                  181             1218     1776
4                29                  34                  209              726     1745
5                36                  10                  221              773     1863
6                38                  20                  164              539     1728
```
```
> head(sleep_day)
          Id              SleepDay TotalSleepRecords TotalMinutesAsleep TotalTimeInBed
1 1503960366 4/12/2016 12:00:00 AM                 1                327            346
2 1503960366 4/13/2016 12:00:00 AM                 2                384            407
3 1503960366 4/15/2016 12:00:00 AM                 1                412            442
4 1503960366 4/16/2016 12:00:00 AM                 2                340            367
5 1503960366 4/17/2016 12:00:00 AM                 1                700            712
6 1503960366 4/19/2016 12:00:00 AM                 1                304            320
```
* From the table with the "sleepDay" data we can see that both the time and date are in the same column, but to make it the same as the other dailyActivity table we will use the 'separate( )' function to separate them into 2 different columns.
```
> sleep_day_new <- sleep_day %>% 
+   separate(SleepDay, c("Date", "Time"), " ")
Warning message:
Expected 2 pieces. Additional pieces discarded in 413 rows [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13,
14, 15, 16, 17, 18, 19, 20, ...].
```
* Identify all the columns in each dataframe.
```
> colnames(daily_activity)
 [1] "Id"                       "ActivityDate"             "TotalSteps"              
 [4] "TotalDistance"            "TrackerDistance"          "LoggedActivitiesDistance"
 [7] "VeryActiveDistance"       "ModeratelyActiveDistance" "LightActiveDistance"     
[10] "SedentaryActiveDistance"  "VeryActiveMinutes"        "FairlyActiveMinutes"     
[13] "LightlyActiveMinutes"     "SedentaryMinutes"         "Calories"
```
```              
> colnames(sleep_day_new)
[1] "Id"                 "Date"               "Time"               "TotalSleepRecords" 
[5] "TotalMinutesAsleep" "TotalTimeInBed"    
```
* Let´s now find out how many distinct users there are in each dataframe.
```
> n_distinct(daily_activity$Id)
[1] 33
> n_distinct(sleep_day_new$Id)
[1] 24
```
From the analysis we can see that they exist: 33 unique participants in the daily_activity dataframe, 24 unique participants in the sleep_day_new dataframe
* Let's verify how many observations there are in each dataframe.
```
> nrow(daily_activity)
[1] 940
> nrow(sleep_day_new)
[1] 413
```
We found that 940 rows in the daily_activity dataframe, 413 rows in the sleep_day_new dataframe
* Let's check to see if there are any duplicate rows in each dataframe.
```
> nrow(daily_activity[duplicated(daily_activity),])
[1] 0
> nrow(sleep_day_new[duplicated(sleep_day_new),])
[1] 3
```
We found that there are 3 duplicate rows in the sleep_day_new dataframe and will have to be removed.
```
> nrow(sleep_day_new)
[1] 413
> sleep_day_new <- unique(sleep_day_new)
> nrow(sleep_day_new)
[1] 410
```
* During dataset analysis, I found that there are no cells with No value, and I also found a lot cells with “0” values, so I prefer to omit these to prevent slope results.
```
> any(is.na(daily_activity))
[1] FALSE
> any(is.na(sleep_day_new))
[1] FALSE
```
```
> daily_activity <- daily_activity %>% 
filter(TotalSteps !=0)
> daily_activity <- daily_activity %>%  
filter(TotalDistance !=0)
```
### PHASE 4: ANALYZE 
* Checking for statistical summary of the variables in each dataframe.
#### daily_activity dataframe
```
> daily_activity %>% 
+   select(TotalSteps,
+          TotalDistance,
+          VeryActiveMinutes,
+          FairlyActiveMinutes,
+          LightlyActiveMinutes,
+          SedentaryMinutes,
+          Calories) %>% 
+   summary()
```
<img width="675" alt="Screen Shot 2023-08-07 at 12 39 20 PM" src="https://github.com/evtorres2/Case-Study-Bellabeat/assets/141677568/29fd7681-9dc3-4268-8f6b-8e94a010fcfa">

##### Observations:
•	Average sedentary minutes is 955.2 minutes or 16 hours.
•	Average very active minutes and fairly active minutes were at 23.04 minutes and 14.79 minutes respectively.
•	Average lightly active minutes were at 210.3 minutes, or 3.5 hours.
•	The average amount of calories burnt per day was around 2362kcal.
•	The average of distance is 5.986m and the average of steps is 8329 steps.
##### Deductions:
•	Participants spend a lot of time without physical activity during the day.
•	Participants spent a mínimum of time exercising.
•	Participants are unlikely to take part in vigorous activities.

#### sleep_day_new dataframe
```
> sleep_day_new %>% 
+     select(TotalSleepRecords,
+            TotalMinutesAsleep,
+            TotalTimeInBed) %>% 
+     summary()
```
```
 TotalSleepRecords TotalMinutesAsleep     TotalTimeInBed 
 Min.   :1.00      	Min.   : 58.0      	Min.   : 61.0  
 1st Qu.:1.00      	1st Qu.:361.0      	1st Qu.:403.8  
 Median :1.00     	 Median :432.5    	  Median :463.0  
 Mean   :1.12      	Mean   :419.2      	Mean   :458.5  
 3rd Qu.:1.00      	3rd Qu.:490.0      	3rd Qu.:526.0  
 Max.   :3.00      	Max.   :796.0     	 Max.   :961.0  
```
##### Observations:
•	Participants spent, on average, 458.5 minutes (7.64 hours) in bed.
•	Average sleeping time was 419.5 minutes or 7 hours.
•	Participants slept once per day on average.
##### Deductions:
•	Participants have the correct average hours of sleep.
### PHASE 5: SHARE 
#### Visualisations
I’m going to create visualisations to find relationships between the variables.
* Figure 1: TotalSteps vs. Calories
```
> ggplot(data=daily_activity) +
+   geom_point(mapping=aes(x=TotalSteps, y=Calories), color="red") +
+   geom_smooth(mapping=aes(x=TotalSteps, y=Calories)) +
+   labs(title="Relationship Between Total Steps & Calories", x="Total Steps", y="Total Calories Burned (kcal)")
`geom_smooth()` using method = 'loess' and formula = 'y ~ x'
```
[Fig1.pdf](https://github.com/evtorres2/Case-Study-Bellabeat/files/12286291/Fig1.pdf)

This graph shows a positive correlation between the total amount of steps and the calories burned - the larger the total amount of steps, the more calories burned.
* Figure 2: TotalSteps vs. Sedentary Minutes
Now the relationship between TotalSteps and Sedentary Minutes.
```
> ggplot(data=daily_activity) +
+   geom_point(mapping=aes(x=TotalSteps, y=SedentaryMinutes), color="orange") +
+   geom_smooth(mapping=aes(x=TotalSteps, y=SedentaryMinutes)) +
+   labs(title="Relationship Between Total Steps & Sedentary Minutes", x="Total Steps", y="Sedentary Minutes")
`geom_smooth()` using method = 'loess' and formula = 'y ~ x'
```
[Figu2.pdf](https://github.com/evtorres2/Case-Study-Bellabeat/files/12286293/Figu2.pdf)
This graph shows a negative correlation between total steps and sedentary minutes, that means the lower the total steps, the higher the sedentary minutes.
* Figure 3: Active minutes vs. calories burned
Let’s see what the relationships are like between the active minutes (very, fairly, and lightly) and the number of calories burned.
```
> ggplot(data=daily_activity) +
+   geom_point(mapping=aes(x=VeryActiveMinutes, y=Calories), color="blue") +
+   geom_smooth(mapping=aes(x=VeryActiveMinutes, y=Calories)) +
+   labs(title="Relationship Between Very Active Minutes & Calories Burned", x="Very Active Minutes", y="Calories Burned (kcal)")
`geom_smooth()` using method = 'loess' and formula = 'y ~ x'
```
[Figu3.pdf](https://github.com/evtorres2/Case-Study-Bellabeat/files/12286300/Figu3.pdf)
```
> ggplot(data=daily_activity) +
+   geom_point(mapping=aes(x=FairlyActiveMinutes, y=Calories), color="purple") +
+   geom_smooth(mapping=aes(x=FairlyActiveMinutes, y=Calories)) +
+   labs(title="Relationship Between Fairly Minutes & Calories Burned", x="Failry Active Minutes", y="Calories Burned (kcal)")
`geom_smooth()` using method = 'loess' and formula = 'y ~ x'
```
[Fig3.1.pdf](https://github.com/evtorres2/Case-Study-Bellabeat/files/12286302/Fig3.1.pdf)
```
> ggplot(data=daily_activity) +
+   geom_point(mapping=aes(x=LightlyActiveMinutes, y=Calories), color="purple") +
+   geom_smooth(mapping=aes(x=LightlyActiveMinutes, y=Calories)) +
+   labs(title="Relationship Between Lightly Active Minutes & Calories Burned", x="Lightly Active Minutes", y="Calories Burned (kcal)")
`geom_smooth()` using method = 'loess' and formula = 'y ~ x'
```
[Figu3.2.pdf](https://github.com/evtorres2/Case-Study-Bellabeat/files/12286303/Figu3.2.pdf)

With these graphs, we can clearly see that there are positive relationships between very active minutes, and lightly active minutes against the calories burned. However, there seems to be a negative relationship between fairly active minutes and the number of calories burned. We can also see that more calories were burned with people who did lighter activities compared to those who were very and/or fairly active.
* Figure 4:
Total minutes asleep vs. total time in bed
We will look at the relationship between the total minutes asleep and total minutes in bed.
```
> ggplot(data=sleep_day_new, mapping=aes(x=TotalMinutesAsleep, y=TotalTimeInBed), color="purple") +
+   geom_point() +
+   geom_smooth() +
+   labs(title="Relationship Between the Total Minutes Asleep & the Total Time in Bed", x="Total Minutes Alseep", y="Total Time in Bed (min)")
`geom_smooth()` using method = 'loess' and formula = 'y ~ x'
```
[Fig4.pdf](https://github.com/evtorres2/Case-Study-Bellabeat/files/12286382/Fig4.pdf)

As you can see from the graph, there is a positive correlation between the total minutes asleep and the amount of time spent in bed. 
Using this data, Bellabeat can use an app that notifies its customers about when it would be the right time to go to bed so that they can get an adequate amount of sleep.
### PHASE 5: ACT 
#### Recommendations for Bellabeat Marketing Strategy:
1.	Based on the activity levels and amount of calories burned, users appear to burn more calories with more exercise. Therefore, Bellabeat should encourage users to exercise more through reminders. They could also offer app incentives, such as give users app credits for every 1000 steps, which can then be used to redeem prizes or vouchers.
2.	The data also shows many people lead either a lightly active or sedentary lifestyle, which may be due to the nature of their work or the lack of time to exercise. Bellabeat could have a section on their app for short workout videos or short exercises (for example, 10 minute videos) that their customers can follow along to if they don’t necessarily want to exercise alone.
3.	To encourage better sleeping habits, Bellabeat could incorporate reminders through an app that notifies users of the best time to go to sleep and wake up in order to feel refreshed in the morning and get adequate amount of sleep. The app could also automatically turn on ‘do not disturb’ mode and turn on ‘night mode’ on the customers’ phones to signal the user that they are not disturbed by messages or phone calls from family and friends.
#### Recommendations based on the limitations of the dataset:
1.	A larger sample size in order to improve the statistical significance of the analysis.
2.	Collect a longer period of tracking data, ideally for 6 months to a year, to account for behavioural changes due to the changes in seasons.
3.	The need to obtain current data in order to better reflect current consumer behaviours and/or trends in smart device usage.
4.	Collect data from internal sources (if possible) and/or from primary/secondary data sources to increase credibility and reliability of the datasets.





